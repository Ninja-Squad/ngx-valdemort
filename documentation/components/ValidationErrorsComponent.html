<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ngx-valdemort documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">ngx-valdemort documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li class="breadcrumb-item">Components</li>
  <li class="breadcrumb-item"
  >
  ValidationErrorsComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" class="nav-link"
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
        <li class="nav-item">
            <a href="#templateData" class="nav-link"
                role="tab" id="templateData-tab" data-bs-toggle="tab" data-link="template">Template</a>
        </li>
        <li class="nav-item">
            <a href="#tree" class="nav-link"
                role="tab" id="tree-tab" data-bs-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/lib/validation-errors.component.ts</code>
</p>


    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Component allowing to display validation error messages associated to a given form control, form group or form array.
The control is provided using the <code>control</code> input of the component. If it&#39;s used inside an enclosing form group or
form array, it can instead be provided using the <code>controlName</code> input of the component.</p>
<p>Example usage where the control itself is being passed as input:</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">  &lt;val-errors [control]=&quot;form.controls.birthDate&quot;&gt;
    &lt;ng-template valError=&quot;required&quot;&gt;The birth date is mandatory&lt;/ng-template&gt;
    &lt;ng-template valError=&quot;max&quot; let-error=&quot;error&quot;&gt;The max value for the birth date is {{ error.max | number }}&lt;/ng-template&gt;
  &lt;/val-errors&gt;</code></pre></div><p>Example usage where the control name is being passed as input:</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">  &lt;val-errors controlName=&quot;birthDate&quot;&gt;
    &lt;ng-template valError=&quot;required&quot;&gt;The birth date is mandatory&lt;/ng-template&gt;
    &lt;ng-template valError=&quot;max&quot; let-error=&quot;error&quot;&gt;The max value for the birth date is {{ error.max | number }}&lt;/ng-template&gt;
  &lt;/val-errors&gt;</code></pre></div><p>This component, if the control is invalid, displays its validation errors using the provided templates.
The templates, as shown in the above example, have access to the validation error itself.</p>
<p>The label of the control can also be provided as input, and then used in the templates:</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">  &lt;val-errors controlName=&quot;birthDate&quot; label=&quot;the birth date&quot;&gt;
    &lt;ng-template valError=&quot;required&quot; let-label&gt;{{ label }} is mandatory&lt;/ng-template&gt;
    &lt;ng-template valError=&quot;max&quot; let-error=&quot;error&quot; let-label&gt;The max value for {{ label }} is {{ error.max | number }}&lt;/ng-template&gt;
  &lt;/val-errors&gt;</code></pre></div><p>The componentâ€˜s behavior is configured globally by the Config service (see its documentation for more details). It can</p>
<ul>
<li>display the first error, or all the errors</li>
<li>add CSS classes to its host <code>&lt;val-errors&gt;</code> element</li>
<li>add CSS classes to each error message element being displayed</li>
<li>choose when to display the errors (dirty, touched, touched and submitted, etc.)</li>
</ul>
<p>Global, default templates can be defined (and used by this component) using the default validation errors directive
(see its documentation for details). So, if the default error messages are defined and sufficient for a given control, all you
need is</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">&lt;val-errors controlName=&quot;birthDate&quot;&gt;&lt;/val-errors&gt;</code></pre></div><p>or, if the default templates expect a label:</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">&lt;val-errors controlName=&quot;birthDate&quot; label=&quot;the birth date&quot;&gt;&lt;/val-errors&gt;</code></pre></div><p>If, however, you want to override one or several error messages by custom ones, you can do so by simply defining them inside the
component:</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">&lt;val-errors controlName=&quot;birthDate&quot; label=&quot;the birth date&quot;&gt;
  &lt;ng-template valError=&quot;max&quot;&gt;You&#39;re too young, sorry&lt;/ng-template&gt;
&lt;/val-errors&gt;</code></pre></div><p>A fallback template can also be provided. This fallback template is used for all the errors that exist on the form control
but are not handled by any of the specific error templates:</p>
<b>Example :</b><div><pre class="line-numbers"><code class="language-none">&lt;val-errors controlName=&quot;birthDate&quot; label=&quot;the birth date&quot;&gt;
  &lt;ng-template valError=&quot;max&quot;&gt;You&#39;re too young, sorry&lt;/ng-template&gt;
  &lt;ng-template valFallback let-label let-type=&quot;type&quot; let-error=&quot;error&quot;&gt;{{ label }} has an unhandled error of type {{ type }}: {{ error | json }}&lt;/ng-template&gt;
&lt;/val-errors&gt;</code></pre></div><p>Note that, the fallback template can also be defined in the default validation errors directive (see its documentation for details).
If a fallback template is defined inside <code>val-errors</code>, it overrides the default fallback.</p>
<p>If an error is present on the control, but doesn&#39;t have any template, default template or fallback template defined for its type,
then it&#39;s not displayed. If the control is valid, or if none of the errors of the component has a matching template or default template,
then this component itself is hidden.</p>

    </p>


    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                <code>AfterContentInit</code>
                <code>DoCheck</code>
    </p>


<section data-compodoc="block-metadata">
    <h3>Metadata</h3>
    <table class="table table-sm table-hover metadata">
        <tbody>

            <tr>
                <td class="col-md-3">changeDetection</td>
                <td class="col-md-9"><code>ChangeDetectionStrategy.OnPush</code></td>
            </tr>





            <tr>
                <td class="col-md-3">host</td>
                <td class="col-md-9"><code>{<br>}</code></td>
            </tr>






            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>val-errors</code></td>
            </tr>

            <tr>
                <td class="col-md-3">standalone</td>
                <td class="col-md-9"><code>true</code></td>
            </tr>

            <tr>
                <td class="col-md-3">imports</td>
                <td class="col-md-9">
                            <code>NgIf</code>
                            <code>NgFor</code>
                            <code>NgTemplateOutlet</code>
                </td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./validation-errors.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#errorClasses" >errorClasses</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#errorDirectives" >errorDirectives</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#errorsClasses" >errorsClasses</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                <a href="#fallbackDirective" >fallbackDirective</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#vm" >vm</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#ngAfterContentInit" >ngAfterContentInit</a>
                            </li>
                            <li>
                                <a href="#ngDoCheck" >ngDoCheck</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#control" >control</a>
                            </li>
                            <li>
                                <a href="#controlName" >controlName</a>
                            </li>
                            <li>
                                <a href="#label" >label</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>

    <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(config: <a href="../injectables/ValdemortConfig.html" target="_self">ValdemortConfig</a>, defaultValidationErrors: <a href="../injectables/DefaultValidationErrors.html" target="_self">DefaultValidationErrors</a>, controlContainer: ControlContainer)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="197" class="link-to-prism">src/lib/validation-errors.component.ts:197</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>defined by using the default validation errors directive
It&#39;s injected so that we can know if it exists and, if it does, if its form directive has been submitted or not:
the config service shouldDisplayErrors function can choose (and does by default) to use that information.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>config</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ValdemortConfig.html" target="_self" >ValdemortConfig</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>the Config service instance, defining the behavior of this component</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>defaultValidationErrors</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DefaultValidationErrors.html" target="_self" >DefaultValidationErrors</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>the service holding the default error templates, optionally
defined by using the default validation errors directive</p>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>controlContainer</td>
                                                  
                                                        <td>
                                                                    <code>ControlContainer</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <p>one of the 4 form group or form array directives that can &quot;wrap&quot; the control.
It&#39;s injected so that we can know if it exists and, if it does, if its form directive has been submitted or not:
the config service shouldDisplayErrors function can choose (and does by default) to use that information.</p>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section data-compodoc="block-inputs">
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="control"></a>
                        <b>control</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>AbstractControl | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="163" class="link-to-prism">src/lib/validation-errors.component.ts:163</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The FormControl, FormGroup or FormArray containing the validation errors.
If set, the controlName input is ignored</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="controlName"></a>
                        <b>controlName</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | number | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="171" class="link-to-prism">src/lib/validation-errors.component.ts:171</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The name (or the index, in case it&#39;s contained in a FormArray) of the FormControl, FormGroup or FormArray containing the validation
errors.
Ignored if the control input is set, and only usable if the control to validate is part of a control container</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="label"></a>
                        <b>label</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>string | null</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>null</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="177" class="link-to-prism">src/lib/validation-errors.component.ts:177</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The label of the field, exposed to templates so they can use it in the error message.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>



    <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngAfterContentInit"></a>
                    <span class="name">
                        <span ><b>ngAfterContentInit</b></span>
                        <a href="#ngAfterContentInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngAfterContentInit()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="232"
                                    class="link-to-prism">src/lib/validation-errors.component.ts:232</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngDoCheck"></a>
                    <span class="name">
                        <span ><b>ngDoCheck</b></span>
                        <a href="#ngDoCheck"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngDoCheck()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="236"
                                    class="link-to-prism">src/lib/validation-errors.component.ts:236</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="errorClasses"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>errorClasses</b></span>
                        <a href="#errorClasses"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.config.errorClasses || &#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="194" class="link-to-prism">src/lib/validation-errors.component.ts:194</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="errorDirectives"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>errorDirectives</b></span>
                        <a href="#errorDirectives"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../directives/ValidationErrorDirective.html" target="_self" >QueryList&lt;ValidationErrorDirective&gt;</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ContentChildren(ValidationErrorDirective)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="183" class="link-to-prism">src/lib/validation-errors.component.ts:183</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The list of validation error directives (i.e. <ng-template valError="...">) contained inside the component element.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="errorsClasses"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>errorsClasses</b></span>
                        <a href="#errorsClasses"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.config.errorsClasses || &#x27;&#x27;</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="193" class="link-to-prism">src/lib/validation-errors.component.ts:193</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fallbackDirective"></a>
                    <span class="name">
                            <span class="modifier"></span>
                        <span ><b>fallbackDirective</b></span>
                        <a href="#fallbackDirective"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../directives/ValidationFallbackDirective.html" target="_self" >ValidationFallbackDirective | undefined</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <b>Decorators : </b>
                        <br />
                        <code>
                            @ContentChild(ValidationFallbackDirective)<br />
                        </code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="189" class="link-to-prism">src/lib/validation-errors.component.ts:189</a></div>
                        </td>
                    </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>The validation fallback directive (i.e. <ng-template valFallback>) contained inside the component element.</p>
</div>
                </td>
            </tr>

        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="vm"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>vm</b></span>
                        <a href="#vm"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#ViewModel" target="_self" >Signal&lt;ViewModel&gt;</a></code>

                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="191" class="link-to-prism">src/lib/validation-errors.component.ts:191</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  AfterContentInit,
  ChangeDetectionStrategy,
  Component,
  ContentChild,
  ContentChildren,
  DoCheck,
  Input,
  Optional,
  QueryList,
  Signal
} from &#x27;@angular/core&#x27;;
import { AbstractControl, ControlContainer, FormArray, FormGroupDirective, NgForm, ValidationErrors } from &#x27;@angular/forms&#x27;;
import { DisplayMode, ValdemortConfig } from &#x27;./valdemort-config.service&#x27;;
import { DefaultValidationErrors } from &#x27;./default-validation-errors.service&#x27;;
import { ValidationErrorDirective } from &#x27;./validation-error.directive&#x27;;
import { ValidationFallbackDirective } from &#x27;./validation-fallback.directive&#x27;;
import { NgFor, NgIf, NgTemplateOutlet } from &#x27;@angular/common&#x27;;
import { combineLatest, distinctUntilChanged, map, Subject } from &#x27;rxjs&#x27;;
import { toSignal } from &#x27;@angular/core/rxjs-interop&#x27;;

interface FallbackError {
  type: string;
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  value: any;
}

interface ErrorsToDisplay {
  // The validation error directives to display
  errors: Array&lt;ValidationErrorDirective&gt;;

  // The fallback directive to use to display the fallback errors
  fallback: ValidationFallbackDirective | undefined;

  // the fallback errors to display (empty if there is no fallback directive)
  fallbackErrors: Array&lt;FallbackError&gt;;
}

type ViewModel &#x3D;
  | {
      shouldDisplayErrors: false;
    }
  | {
      shouldDisplayErrors: true;
      errorsToDisplay: ErrorsToDisplay;
      control: AbstractControl;
    };

const NO_ERRORS: ViewModel &#x3D; {
  shouldDisplayErrors: false
};

interface ValidationState {
  control: AbstractControl | null;
  errorsDisplayed: boolean | null;
  errors: ValidationErrors | null;
}

const NO_VALIDATION_STATE: ValidationState &#x3D; {
  control: null,
  errorsDisplayed: null,
  errors: null
};

function areValidationStatesEqual(previous: ValidationState, current: ValidationState): boolean {
  return previous.control &#x3D;&#x3D;&#x3D; current.control &amp;&amp; previous.errorsDisplayed &#x3D;&#x3D;&#x3D; current.errorsDisplayed &amp;&amp; previous.errors &#x3D;&#x3D;&#x3D; current.errors;
}

/**
 * Component allowing to display validation error messages associated to a given form control, form group or form array.
 * The control is provided using the &#x60;control&#x60; input of the component. If it&#x27;s used inside an enclosing form group or
 * form array, it can instead be provided using the &#x60;controlName&#x60; input of the component.
 *
 * Example usage where the control itself is being passed as input:
 * &#x60;&#x60;&#x60;
 *   &lt;val-errors [control]&#x3D;&quot;form.controls.birthDate&quot;&gt;
 *     &lt;ng-template valError&#x3D;&quot;required&quot;&gt;The birth date is mandatory&lt;/ng-template&gt;
 *     &lt;ng-template valError&#x3D;&quot;max&quot; let-error&#x3D;&quot;error&quot;&gt;The max value for the birth date is {{ error.max | number }}&lt;/ng-template&gt;
 *   &lt;/val-errors&gt;
 * &#x60;&#x60;&#x60;
 *
 * Example usage where the control name is being passed as input:
 * &#x60;&#x60;&#x60;
 *   &lt;val-errors controlName&#x3D;&quot;birthDate&quot;&gt;
 *     &lt;ng-template valError&#x3D;&quot;required&quot;&gt;The birth date is mandatory&lt;/ng-template&gt;
 *     &lt;ng-template valError&#x3D;&quot;max&quot; let-error&#x3D;&quot;error&quot;&gt;The max value for the birth date is {{ error.max | number }}&lt;/ng-template&gt;
 *   &lt;/val-errors&gt;
 * &#x60;&#x60;&#x60;
 *
 * This component, if the control is invalid, displays its validation errors using the provided templates.
 * The templates, as shown in the above example, have access to the validation error itself.
 *
 * The label of the control can also be provided as input, and then used in the templates:
 * &#x60;&#x60;&#x60;
 *   &lt;val-errors controlName&#x3D;&quot;birthDate&quot; label&#x3D;&quot;the birth date&quot;&gt;
 *     &lt;ng-template valError&#x3D;&quot;required&quot; let-label&gt;{{ label }} is mandatory&lt;/ng-template&gt;
 *     &lt;ng-template valError&#x3D;&quot;max&quot; let-error&#x3D;&quot;error&quot; let-label&gt;The max value for {{ label }} is {{ error.max | number }}&lt;/ng-template&gt;
 *   &lt;/val-errors&gt;
 * &#x60;&#x60;&#x60;
 *
 * The componentâ€˜s behavior is configured globally by the Config service (see its documentation for more details). It can
 * - display the first error, or all the errors
 * - add CSS classes to its host &#x60;&lt;val-errors&gt;&#x60; element
 * - add CSS classes to each error message element being displayed
 * - choose when to display the errors (dirty, touched, touched and submitted, etc.)
 *
 * Global, default templates can be defined (and used by this component) using the default validation errors directive
 * (see its documentation for details). So, if the default error messages are defined and sufficient for a given control, all you
 * need is
 *
 * &#x60;&#x60;&#x60;
 * &lt;val-errors controlName&#x3D;&quot;birthDate&quot;&gt;&lt;/val-errors&gt;
 * &#x60;&#x60;&#x60;
 *
 * or, if the default templates expect a label:
 *
 * &#x60;&#x60;&#x60;
 * &lt;val-errors controlName&#x3D;&quot;birthDate&quot; label&#x3D;&quot;the birth date&quot;&gt;&lt;/val-errors&gt;
 * &#x60;&#x60;&#x60;
 *
 * If, however, you want to override one or several error messages by custom ones, you can do so by simply defining them inside the
 * component:
 *
 * &#x60;&#x60;&#x60;
 * &lt;val-errors controlName&#x3D;&quot;birthDate&quot; label&#x3D;&quot;the birth date&quot;&gt;
 *   &lt;ng-template valError&#x3D;&quot;max&quot;&gt;You&#x27;re too young, sorry&lt;/ng-template&gt;
 * &lt;/val-errors&gt;
 * &#x60;&#x60;&#x60;
 *
 * A fallback template can also be provided. This fallback template is used for all the errors that exist on the form control
 * but are not handled by any of the specific error templates:
 * &#x60;&#x60;&#x60;
 * &lt;val-errors controlName&#x3D;&quot;birthDate&quot; label&#x3D;&quot;the birth date&quot;&gt;
 *   &lt;ng-template valError&#x3D;&quot;max&quot;&gt;You&#x27;re too young, sorry&lt;/ng-template&gt;
 *   &lt;ng-template valFallback let-label let-type&#x3D;&quot;type&quot; let-error&#x3D;&quot;error&quot;&gt;{{ label }} has an unhandled error of type {{ type }}: {{ error | json }}&lt;/ng-template&gt;
 * &lt;/val-errors&gt;
 * &#x60;&#x60;&#x60;
 * Note that, the fallback template can also be defined in the default validation errors directive (see its documentation for details).
 * If a fallback template is defined inside &#x60;val-errors&#x60;, it overrides the default fallback.
 *
 * If an error is present on the control, but doesn&#x27;t have any template, default template or fallback template defined for its type,
 * then it&#x27;s not displayed. If the control is valid, or if none of the errors of the component has a matching template or default template,
 * then this component itself is hidden.
 */
@Component({
  selector: &#x27;val-errors&#x27;,
  templateUrl: &#x27;./validation-errors.component.html&#x27;,
  host: {
    &#x27;[class]&#x27;: &#x27;errorsClasses&#x27;,
    &#x27;[style.display]&#x27;: &#x60;vm().shouldDisplayErrors ? &#x27;&#x27; : &#x27;none&#x27;&#x60;
  },
  standalone: true,
  imports: [NgIf, NgFor, NgTemplateOutlet],
  changeDetection: ChangeDetectionStrategy.OnPush
})
export class ValidationErrorsComponent implements AfterContentInit, DoCheck {
  /**
   * The FormControl, FormGroup or FormArray containing the validation errors.
   * If set, the controlName input is ignored
   */
  @Input()
  control: AbstractControl | null &#x3D; null;

  /**
   * The name (or the index, in case it&#x27;s contained in a FormArray) of the FormControl, FormGroup or FormArray containing the validation
   * errors.
   * Ignored if the control input is set, and only usable if the control to validate is part of a control container
   */
  @Input()
  controlName: string | number | null &#x3D; null;

  /**
   * The label of the field, exposed to templates so they can use it in the error message.
   */
  @Input()
  label: string | null &#x3D; null;

  /**
   * The list of validation error directives (i.e. &lt;ng-template valError&#x3D;&quot;...&quot;&gt;) contained inside the component element.
   */
  @ContentChildren(ValidationErrorDirective)
  errorDirectives!: QueryList&lt;ValidationErrorDirective&gt;;

  /**
   * The validation fallback directive (i.e. &lt;ng-template valFallback&gt;) contained inside the component element.
   */
  @ContentChild(ValidationFallbackDirective)
  fallbackDirective: ValidationFallbackDirective | undefined;

  readonly vm: Signal&lt;ViewModel&gt;;

  readonly errorsClasses &#x3D; this.config.errorsClasses || &#x27;&#x27;;
  readonly errorClasses &#x3D; this.config.errorClasses || &#x27;&#x27;;

  private validationStateChanges &#x3D; new Subject&lt;ValidationState&gt;();
  private contentInit &#x3D; new Subject&lt;void&gt;();

  /**
   * @param config the Config service instance, defining the behavior of this component
   * @param defaultValidationErrors the service holding the default error templates, optionally
   * defined by using the default validation errors directive
   * @param controlContainer one of the 4 form group or form array directives that can &quot;wrap&quot; the control.
   * It&#x27;s injected so that we can know if it exists and, if it does, if its form directive has been submitted or not:
   * the config service shouldDisplayErrors function can choose (and does by default) to use that information.
   */
  constructor(
    private config: ValdemortConfig,
    private defaultValidationErrors: DefaultValidationErrors,
    @Optional() private controlContainer: ControlContainer
  ) {
    this.vm &#x3D; toSignal(
      combineLatest([this.validationStateChanges.pipe(distinctUntilChanged(areValidationStatesEqual)), this.contentInit]).pipe(
        map(([validationState]) &#x3D;&gt; {
          const ctrl &#x3D; validationState.control;
          if (this.shouldDisplayErrors(ctrl)) {
            const errorsToDisplay &#x3D; this.findErrorsToDisplay(ctrl);
            return {
              shouldDisplayErrors: true,
              control: ctrl,
              errorsToDisplay
            };
          } else {
            return NO_ERRORS;
          }
        })
      ),
      { initialValue: NO_ERRORS }
    );
  }

  ngAfterContentInit(): void {
    this.contentInit.next();
  }

  ngDoCheck(): void {
    const ctrl &#x3D; this.findActualControl();
    if (ctrl) {
      const formDirective &#x3D; this.controlContainer?.formDirective as NgForm | FormGroupDirective | undefined;
      const errorsDisplayed &#x3D; this.config.shouldDisplayErrors(ctrl, formDirective);
      this.validationStateChanges.next({
        control: ctrl,
        errorsDisplayed,
        errors: ctrl.errors
      });
    } else {
      this.validationStateChanges.next(NO_VALIDATION_STATE);
    }
  }

  private shouldDisplayErrors(ctrl: AbstractControl | null): ctrl is AbstractControl {
    if (!ctrl || !ctrl.invalid || !this.hasDisplayableError(ctrl)) {
      return false;
    }
    const form &#x3D; this.controlContainer &amp;&amp; (this.controlContainer.formDirective as NgForm | FormGroupDirective);
    return this.config.shouldDisplayErrors(ctrl, form);
  }

  private findErrorsToDisplay(ctrl: AbstractControl): ErrorsToDisplay {
    const mergedDirectives: Array&lt;ValidationErrorDirective&gt; &#x3D; [];
    const fallbackErrors: Array&lt;FallbackError&gt; &#x3D; [];
    const alreadyMetTypes &#x3D; new Set&lt;string&gt;();
    const shouldContinue &#x3D; () &#x3D;&gt;
      this.config.displayMode &#x3D;&#x3D;&#x3D; DisplayMode.ALL || (mergedDirectives.length &#x3D;&#x3D;&#x3D; 0 &amp;&amp; fallbackErrors.length &#x3D;&#x3D;&#x3D; 0);
    for (let i &#x3D; 0; i &lt; this.defaultValidationErrors.directives.length &amp;&amp; shouldContinue(); i++) {
      const defaultDirective &#x3D; this.defaultValidationErrors.directives[i];
      if (ctrl.hasError(defaultDirective.type)) {
        const customDirectiveOfSameType &#x3D; this.errorDirectives.find(dir &#x3D;&gt; dir.type &#x3D;&#x3D;&#x3D; defaultDirective.type);
        mergedDirectives.push(customDirectiveOfSameType || defaultDirective);
      }
      alreadyMetTypes.add(defaultDirective.type);
    }

    if (shouldContinue()) {
      const customDirectives &#x3D; this.errorDirectives.toArray();
      for (let i &#x3D; 0; i &lt; customDirectives.length &amp;&amp; shouldContinue(); i++) {
        const customDirective &#x3D; customDirectives[i];
        if (ctrl.hasError(customDirective.type) &amp;&amp; !alreadyMetTypes.has(customDirective.type)) {
          mergedDirectives.push(customDirective);
        }
        alreadyMetTypes.add(customDirective.type);
      }
    }

    if (shouldContinue() &amp;&amp; (this.fallbackDirective || this.defaultValidationErrors.fallback)) {
      const allErrors &#x3D; Object.entries(ctrl.errors ?? []);
      for (let i &#x3D; 0; i &lt; allErrors.length &amp;&amp; shouldContinue(); i++) {
        const [type, value] &#x3D; allErrors[i];
        if (!alreadyMetTypes.has(type)) {
          fallbackErrors.push({ type, value });
        }
      }
    }

    return {
      errors: mergedDirectives,
      fallback: this.fallbackDirective ?? this.defaultValidationErrors.fallback,
      fallbackErrors
    };
  }

  private findActualControl(): AbstractControl | null {
    if (this.control) {
      return this.control;
    } else if ((this.controlName || (this.controlName as number) &#x3D;&#x3D;&#x3D; 0) &amp;&amp; (this.controlContainer.control as FormArray)?.controls) {
      const control &#x3D; (this.controlContainer.control as FormArray).controls[this.controlName as number];
      if (this.config.shouldThrowOnMissingControl()) {
        // if the control is null, then there are two cases:
        // - we are in a template driven form, and the controls might not be initialized yet
        // - there was an error in the control name. If so, let&#x27;s throw an error to help developers
        // to avoid false positive in template driven forms, we check if the controls are initialized
        // by checking if the &#x60;controls&#x60; object or array has any element
        if (!control &amp;&amp; Object.keys((this.controlContainer.control as FormArray)?.controls).length &gt; 0) {
          throw new Error(&#x60;ngx-valdemort: no control found for controlName: &#x27;${this.controlName}&#x27;.&#x60;);
        }
      }
      return control;
    }
    return null;
  }

  private hasDisplayableError(ctrl: AbstractControl) {
    return (
      ctrl.errors &amp;&amp;
      (this.fallbackDirective ||
        this.defaultValidationErrors.fallback ||
        Object.keys(ctrl.errors).some(
          type &#x3D;&gt;
            this.defaultValidationErrors.directives.some(dir &#x3D;&gt; dir.type &#x3D;&#x3D;&#x3D; type) || this.errorDirectives.some(dir &#x3D;&gt; dir.type &#x3D;&#x3D;&#x3D; type)
        ))
    );
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="templateData">
        <pre class="line-numbers"><code class="language-html">&lt;ng-container *ngIf&#x3D;&quot;vm() as vm&quot;&gt;
  &lt;ng-container *ngIf&#x3D;&quot;vm.shouldDisplayErrors&quot;&gt;
    &lt;div [class]&#x3D;&quot;errorClasses&quot; *ngFor&#x3D;&quot;let errorDirective of vm.errorsToDisplay.errors&quot;&gt;
      &lt;ng-container
        *ngTemplateOutlet&#x3D;&quot;errorDirective!.templateRef; context: {
        $implicit: label,
        error: vm.control.errors![errorDirective.type]
      }&quot;
      &gt;&lt;/ng-container&gt;
    &lt;/div&gt;
    &lt;div [class]&#x3D;&quot;errorClasses&quot; *ngFor&#x3D;&quot;let error of vm.errorsToDisplay.fallbackErrors&quot;&gt;
      &lt;ng-container
        *ngTemplateOutlet&#x3D;&quot;vm.errorsToDisplay.fallback!.templateRef; context: {
        $implicit: label,
        type: error.type,
        error: error.value
      }&quot;
      &gt;&lt;/ng-container&gt;
    &lt;/div&gt;
  &lt;/ng-container&gt;
&lt;/ng-container&gt;
</code></pre>
    </div>


    <div class="tab-pane fade " id="tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><ng-container *ngIf="vm() as vm">  <ng-container *ngIf="vm.shouldDisplayErrors">    <div [class]="errorClasses" *ngFor="let errorDirective of vm.errorsToDisplay.errors">      <ng-container        *ngTemplateOutlet="errorDirective!.templateRef; context: {        $implicit: label,        error: vm.control.errors![errorDirective.type]      }"      ></ng-container>    </div>    <div [class]="errorClasses" *ngFor="let error of vm.errorsToDisplay.fallbackErrors">      <ng-container        *ngTemplateOutlet="vm.errorsToDisplay.fallback!.templateRef; context: {        $implicit: label,        type: error.type,        error: error.value      }"      ></ng-container>    </div>  </ng-container></ng-container></div>'
    var COMPONENTS = [{'name': 'ValidationErrorsComponent', 'selector': 'val-errors'}];
    var DIRECTIVES = [{'name': 'DefaultValidationErrorsDirective', 'selector': 'val-default-errors'},{'name': 'ValidationErrorDirective', 'selector': 'ng-template[valError]'},{'name': 'ValidationFallbackDirective', 'selector': 'ng-template[valFallback]'}];
    var ACTUAL_COMPONENT = {'name': 'ValidationErrorsComponent'};
</script>
<script src="../js/tree.js"></script>

















                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ValidationErrorsComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
