@let vm = this.vm();
@if (vm.shouldDisplayErrors) {
  @for (errorWithDirective of vm.errorsToDisplay.errors; track $index) {
    <div [class]="errorClasses">
      <ng-container
        *ngTemplateOutlet="
          errorWithDirective.directive.templateRef;
          context: {
            $implicit: label(),
            error: errorWithDirective.error
          }
        "
      />
    </div>
  }
  @for (error of vm.errorsToDisplay.fallbackErrors; track $index) {
    <div [class]="errorClasses">
      <ng-container
        *ngTemplateOutlet="
          vm.errorsToDisplay.fallback!.templateRef;
          context: {
            $implicit: label(),
            type: error.kind,
            error: error
          }
        "
      />
    </div>
  }
}
